"use strict";(self.webpackChunkstrapi_backend=self.webpackChunkstrapi_backend||[]).push([[6345],{76345:(L,C,t)=>{t.r(C),t.d(C,{default:()=>Ce});var e=t(67294),r=t(16550),m=t(81849),E=t(274),M=t.n(E),i=t(41580),x=t(86896),n=t(76835);const T=async()=>{try{return await(0,m.WY)(`/${M()}/component`,{method:"GET"})}catch{return null}},B=async()=>{try{return await(0,m.WY)(`/${M()}/content-types`,{method:"GET"})}catch{return null}},A=async()=>{try{return(await(0,m.WY)(`/${M()}/component`,{method:"POST"},!0)).json()}catch{return null}};var R=t(11047),S=t(32064),a=t(75515),u=t(89722),d=t(38939),s=t(8060),c=t(79031),v=t(37909),P=t(15234),b=t(96315),Z=t(94228),h=t(7681),O=t(3566),z=t(29728),de=t(19306),ce=t(42866),ue=t(24969),ge=t(59946),me=t(36856),V=t(85893);const Ee=o=>(0,V.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,children:(0,V.jsx)("path",{d:"M6.17 18a3 3 0 0 1 5.66 0H22v2H11.83a3 3 0 0 1-5.66 0H2v-2h4.17Zm6-7a3 3 0 0 1 5.66 0H22v2h-4.17a3 3 0 0 1-5.66 0H2v-2h10.17Zm-6-7a3.001 3.001 0 0 1 5.66 0H22v2H11.83a3 3 0 0 1-5.66 0H2V4h4.17Z",fill:"#212134"})}),he=Ee;var Y=t(45349);const G=t(25309).Z,Q=({item:o})=>{const[g,p]=(0,e.useState)(!0),[w,k]=(0,e.useState)(!0),[H,W]=(0,e.useState)(!0),[D,I]=(0,e.useState)(!0),[K,X]=(0,e.useState)(!0),[q,_]=(0,e.useState)(!0),[ee,te]=(0,e.useState)(!0),[ae,ne]=(0,e.useState)(!0),[le,oe]=(0,e.useState)(!0),[re,se]=(0,e.useState)(!0),[$,ie]=(0,e.useState)(null),[xe,j]=(0,e.useState)(!1),{formatMessage:f}=(0,x.Z)();(0,e.useEffect)(()=>{(async()=>{const y=await G.get();ie(y)})()},[]);const Pe=l=>{const y=$[o?.uid];p(y?.seoChecks?.metaTitle),k(y?.seoChecks?.metaDescription),W(y?.seoChecks?.metaRobots),I(y?.seoChecks?.metaSocial),X(y?.seoChecks?.wordCount),_(y?.seoChecks?.canonicalUrl),te(y?.seoChecks?.keywordDensity),ne(y?.seoChecks?.structuredData),oe(y?.seoChecks?.alternativeText),se(y?.seoChecks?.lastUpdatedAt),j(N=>!N)},be=l=>{const y={...$,[o?.uid]:{collectionName:$[o?.uid]?.collectionName,seoChecks:{metaTitle:g,metaDescription:w,metaRobots:H,metaSocial:D,wordCount:K,canonicalUrl:q,keywordDensity:ee,structuredData:ae,alternativeText:le,lastUpdatedAt:re}}};G.set(y).then(async()=>{ie(y),j(N=>!N)})};return e.createElement(e.Fragment,null,e.createElement(z.z,{variant:"tertiary",startIcon:e.createElement(he,null),onClick:l=>Pe(l)},f({id:(0,n.O)("SEOPage.info.config"),defaultMessage:"Settings"})),xe&&e.createElement(ce.P,{onClose:()=>j(l=>!l),labelledBy:"title"},e.createElement(ue.x,null,e.createElement(a.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},f({id:(0,n.O)("SEOPage.info.settings"),defaultMessage:"Settings"}))),e.createElement(ge.f,null,e.createElement(i.x,{paddingBottom:8,paddingTop:4},e.createElement(m.Y_,{title:f({id:"Information",defaultMessage:"Information"}),subtitle:f({id:(0,n.O)("HomePage.info.settings.information"),defaultMessage:"Disable SEO checks for this specific content-type."}),icon:e.createElement(Y.Z,null),iconBackground:"primary100"})),e.createElement(de.M,null,e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:g,onChange:()=>p(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.meta-title-check"),defaultMessage:"Meta Title"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:w,onChange:()=>k(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.meta-description-check"),defaultMessage:"Meta Description"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:H,onChange:()=>W(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.meta-robots-check"),defaultMessage:"Meta Robots"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:D,onChange:()=>I(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.meta-social-check"),defaultMessage:"Meta Social"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:K,onChange:()=>X(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.word-count-check"),defaultMessage:"Word Count"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:q,onChange:()=>_(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.canonical-url-check"),defaultMessage:"Canonical URL"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:ee,onChange:()=>te(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.keyword-density-check"),defaultMessage:"Keyword Density"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:ae,onChange:()=>ne(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.structured-data-check"),defaultMessage:"Structured Data"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:le,onChange:()=>oe(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.alternative-text-check"),defaultMessage:"Alt Text"})))),e.createElement(i.x,{padding:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow"},e.createElement(h.K,{horizontal:!0,spacing:4,padding:3},e.createElement(O.r,{label:"Switch",selected:re,onChange:()=>se(l=>!l)}),e.createElement(a.Z,{variant:"delta"},f({id:(0,n.O)("SEOPage.info.settings.last-updated-at-check"),defaultMessage:"Last Updated At"})))))),e.createElement(me.m,{startActions:e.createElement(z.z,{onClick:()=>j(l=>!l),variant:"tertiary"},f({id:(0,n.O)("SEOPage.info.settings.cancel.button"),defaultMessage:"Cancel"})),endActions:e.createElement(e.Fragment,null,e.createElement(z.z,{onClick:l=>be(l)},f({id:(0,n.O)("SEOPage.info.settings.save.button"),defaultMessage:"Save"})))})))};var pe=t(82777),U=t(60633),F=t(42761),fe=t(96486),J=t.n(fe);const ve=({contentTypes:o})=>{const{formatMessage:g}=(0,x.Z)();return e.createElement(e.Fragment,null,e.createElement(i.x,{padding:8},e.createElement(pe.v,{label:"label",id:"tabs",variant:"simple"},e.createElement(U.m,null,e.createElement(U.O,null,e.createElement(a.Z,null,g({id:(0,n.O)("SEOPage.tab.collection-type-title"),defaultMessage:"Collection Types"}))),e.createElement(U.O,null,e.createElement(a.Z,{variant:"omega"},g({id:(0,n.O)("SEOPage.tab.single-type-title"),defaultMessage:"Single Types"})))),e.createElement(F.n,null,e.createElement(F.x,null,e.createElement(d.i,{colCount:2,rowCount:o.collectionTypes.length},e.createElement(s.h,null,e.createElement(c.Tr,null,e.createElement(v.Th,null,e.createElement(a.Z,{variant:"sigma"},g({id:(0,n.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(P.p,null,o&&o.collectionTypes&&!J().isEmpty(o.collectionTypes)?o.collectionTypes.map(p=>e.createElement(c.Tr,{key:p.uid},e.createElement(v.Td,null,e.createElement(a.Z,{textColor:"neutral800"},p.globalId)),e.createElement(v.Td,null,e.createElement(R.k,{justifyContent:"right",alignItems:"right"},p.seo?e.createElement(Q,{item:p}):e.createElement(S.Q,{startIcon:e.createElement(b.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${p.uid}`},g({id:(0,n.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(i.x,{padding:8,background:"neutral0"},e.createElement(u.x,{icon:e.createElement(Z.w,null),content:g({id:(0,n.O)("SEOPage.info.no-collection-types"),defaultMessage:"You don't have any collection-types yet..."}),action:e.createElement(S.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(b.Z,null)},g({id:(0,n.O)("SEOPage.info.create-collection-type"),defaultMessage:"Create your first collection-type"}))}))))),e.createElement(F.x,null,e.createElement(d.i,{colCount:2,rowCount:o.singleTypes.length},e.createElement(s.h,null,e.createElement(c.Tr,null,e.createElement(v.Th,null,e.createElement(a.Z,{variant:"sigma"},g({id:(0,n.O)("SEOPage.tab-panel.column-name"),defaultMessage:"Name"}))))),e.createElement(P.p,null,o&&o.singleTypes&&!J().isEmpty(o.singleTypes)?o.singleTypes.map(p=>e.createElement(c.Tr,{key:p.uid},e.createElement(v.Td,null,e.createElement(a.Z,{textColor:"neutral800"},p.globalId)),e.createElement(v.Td,null,e.createElement(R.k,{justifyContent:"right",alignItems:"right"},p.seo?e.createElement(Q,{item:p}):e.createElement(S.Q,{startIcon:e.createElement(b.Z,null),variant:"secondary",to:`/plugins/content-type-builder/content-types/${p.uid}`},g({id:(0,n.O)("SEOPage.info.add"),defaultMessage:"Add component"})))))):e.createElement(i.x,{padding:8,background:"neutral0"},e.createElement(u.x,{icon:e.createElement(Z.w,null),content:g({id:(0,n.O)("SEOPage.info.no-single-types"),defaultMessage:"You don't have any single-types yet..."}),action:e.createElement(S.Q,{to:"/plugins/content-type-builder",variant:"secondary",startIcon:e.createElement(b.Z,null)},g({id:(0,n.O)("SEOPage.info.create-single-type"),defaultMessage:"Create your first single-type"}))})))))))))};var ye=t(53979);const Se=o=>{const{formatMessage:g}=(0,x.Z)();return e.createElement(i.x,{background:"neutral100"},e.createElement(ye.A,{secondaryAction:o?null:e.createElement(LinkButton,{variant:"tertiary",to:"/plugins/content-type-builder/component-categories/shared/shared.seo",startIcon:e.createElement(Pencil,null)},g({id:(0,n.O)("SEOPage.header.button.edit-component"),defaultMessage:"Edit SEO component"})),title:g({id:(0,n.O)("SEOPage.header.title"),defaultMessage:"SEO"}),subtitle:g({id:(0,n.O)("SEOPage.header.subtitle"),defaultMessage:"Optimize your content to be SEO friendly"}),as:"h2"}))},Oe=()=>{const{formatMessage:o}=(0,x.Z)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:p}=(0,m.Vu)(),[w,k]=(0,e.useState)(!0),[H,W]=(0,e.useState)(!1),D=(0,e.useRef)({}),I=(0,e.useRef)({});return(0,e.useEffect)(async()=>{if(D.current=await T(),I.current=await B(),!D.current)try{g(),await A()}catch(K){console.log(K)}finally{p(),W(!0)}k(!1)},[H]),w?e.createElement(m.dO,null):e.createElement(e.Fragment,null,e.createElement(Se,{seoComponent:D.current}),e.createElement(i.x,{paddingLeft:8,paddingRight:8},e.createElement(m.Y_,{title:o({id:"Information",defaultMessage:"Information"}),subtitle:o({id:(0,n.O)("HomePage.info.information"),defaultMessage:"When adding your SEO component, make sure to name it 'seo' and to include it in the root of your Content-Type."}),icon:e.createElement(Y.Z,null),iconBackground:"primary100"})),e.createElement(ve,{contentTypes:I.current}))},Me=(0,e.memo)(Oe),Ce=()=>e.createElement("div",null,e.createElement(r.rs,null,e.createElement(r.AW,{path:`/plugins/${M()}`,component:Me,exact:!0}),e.createElement(r.AW,{component:m.NotFound})))},19306:(L,C,t)=>{t.d(C,{M:()=>m});var e=t(45697),r=t(1565);const m=r.ZP.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:E})=>E.spaces[4]};
`;m.propTypes={children:e.node.isRequired}},53979:(L,C,t)=>{t.d(C,{A:()=>S,T:()=>A});var e=t(67294),r=t(45697),m=t(1565),E=t(41580),M=t(11047);const i=a=>{const u=(0,e.useRef)(null),[d,s]=(0,e.useState)(!0),c=([v])=>{s(v.isIntersecting)};return(0,e.useEffect)(()=>{const v=u.current,P=new IntersectionObserver(c,a);return v&&P.observe(u.current),()=>{v&&P.disconnect()}},[u,a]),[u,d]};var x=t(95355);const n=(a,u)=>{const d=(0,x.W)(u);(0,e.useLayoutEffect)(()=>{const s=new ResizeObserver(d);return Array.isArray(a)?a.forEach(c=>{c.current&&s.observe(c.current)}):a.current&&s.observe(a.current),()=>{s.disconnect()}},[a,d])};var T=t(75515);const B=()=>{const a=(0,e.useRef)(null),[u,d]=(0,e.useState)(null),[s,c]=i({root:null,rootMargin:"0px",threshold:0});return n(s,()=>{s.current&&d(s.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{a.current&&d(a.current.getBoundingClientRect())},[a]),{containerRef:s,isVisible:c,baseHeaderLayoutRef:a,headerSize:u}},A=a=>{const{containerRef:u,isVisible:d,baseHeaderLayoutRef:s,headerSize:c}=B();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:c?.height},ref:u},d&&e.createElement(S,{ref:s,...a})),!d&&e.createElement(S,{...a,sticky:!0,width:c?.width}))};A.displayName="HeaderLayout";const R=(0,m.ZP)(E.x)`
  width: ${a=>a.width}px;
`,S=e.forwardRef(({navigationAction:a,primaryAction:u,secondaryAction:d,subtitle:s,title:c,sticky:v,width:P,...b},Z)=>{const h=typeof s=="string";return v?e.createElement(R,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:P,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(M.k,{justifyContent:"space-between"},e.createElement(M.k,null,a&&e.createElement(E.x,{paddingRight:3},a),e.createElement(E.x,null,e.createElement(T.Z,{variant:"beta",as:"h1",...b},c),h?e.createElement(T.Z,{variant:"pi",textColor:"neutral600"},s):s),d?e.createElement(E.x,{paddingLeft:4},d):null),e.createElement(M.k,null,u?e.createElement(E.x,{paddingLeft:2},u):void 0))):e.createElement(E.x,{ref:Z,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0},a?e.createElement(E.x,{paddingBottom:2},a):null,e.createElement(M.k,{justifyContent:"space-between"},e.createElement(M.k,{minWidth:0},e.createElement(T.Z,{as:"h1",variant:"alpha",...b},c),d?e.createElement(E.x,{paddingLeft:4},d):null),u),h?e.createElement(T.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},s):s)});S.displayName="BaseHeaderLayout",S.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},S.propTypes={navigationAction:r.node,primaryAction:r.node,secondaryAction:r.node,sticky:r.bool,subtitle:r.oneOfType([r.string,r.node]),title:r.string.isRequired,width:r.number},A.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},A.propTypes={navigationAction:r.node,primaryAction:r.node,secondaryAction:r.node,subtitle:r.oneOfType([r.string,r.node]),title:r.string.isRequired}},32064:(L,C,t)=>{t.d(C,{Q:()=>B});var e=t(85893),r=t(67294),m=t(73727),E=t(1565),M=t(21817),i=t(92577),x=t(11047),n=t(75515);const T=(0,E.ZP)(M.G)`
  &[aria-disabled='true'] {
    ${i.sg}
    &:active {
      ${i.sg}
    }
  }
  &:hover {
    ${i.yP}
  }
  &:active {
    ${i.tB}
  }
  ${i.PD}
`,B=r.forwardRef(({variant:A="default",startIcon:R,endIcon:S,disabled:a=!1,children:u,size:d="S",href:s,to:c,...v},P)=>{const b=s?"_blank":void 0,Z=s?"noreferrer noopener":void 0,h=d==="S"?2:"10px",O=4;return(0,e.jsxs)(T,{ref:P,"aria-disabled":a,size:d,variant:A,target:b,rel:Z,to:a?void 0:c,href:a?"#":s,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:h,paddingLeft:O,paddingRight:O,paddingTop:h,pointerEvents:a?"none":void 0,...v,as:c&&!a?m.OL:"a",children:[R&&(0,e.jsx)(x.k,{"aria-hidden":!0,children:R}),(0,e.jsx)(n.Z,{variant:d==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:u}),S&&(0,e.jsx)(x.k,{"aria-hidden":!0,children:S})]})})},45349:(L,C,t)=>{t.d(C,{Z:()=>m});var e=t(85893);const r=E=>(0,e.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...E,children:[(0,e.jsx)("path",{d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z",fill:"#4945FF"}),(0,e.jsx)("path",{d:"M15.733 8c.343 0 .678.108.963.31.285.202.507.49.639.826.13.337.165.707.098 1.064a1.879 1.879 0 0 1-.474.942 1.705 1.705 0 0 1-.887.504 1.64 1.64 0 0 1-1.002-.105 1.76 1.76 0 0 1-.778-.678A1.924 1.924 0 0 1 14 9.841a1.9 1.9 0 0 1 .508-1.302c.325-.345.766-.539 1.225-.539ZM20 24h-8v-2.265h2.933v-6.23H12.8v-2.266h4.267v8.495H20V24Z",fill:"#fff"})]}),m=r}}]);
